<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>Open evolver</title>
    <link rel="stylesheet" href="src/css/main.css"/>
</head>
<body>

<menu type="toolbar" class="oe-menu">
    <li>
        <button type="menu" value="File" menu="file-menu"></button>
        <menu id="file-menu" type="popup">
            <menuitem label="Load structure…" data-action="load"></menuitem>
            <menuitem label="Save structure…" data-action="save"></menuitem>
        </menu>
        <input type="file" id="oe-file" autocomplete="off"/>
    </li>
    <li>
        <button type="menu" value="Edit" menu="edit-menu"></button>
        <menu id="edit-menu" type="popup">
            <menuitem label="Graph…" data-action="alterGraph"></menuitem>
            <menuitem label="Set parameters…" data-action="setup"></menuitem>
        </menu>
    </li>
    <li>
        <button type="menu" value="Calc" menu="calc-menu"></button>
        <menu id="calc-menu" type="popup">
            <menuitem label="Total energy &amp; total bonds" data-action="calcEnergy"></menuitem>
            <menuitem label="Norm of gradient" data-action="calcGrad"></menuitem>
            <hr/>
            <menuitem label="Evolve…" data-action="evolve"></menuitem>
        </menu>
    </li>
    <li>
        <button type="menu" value="View" menu="view-menu"></button>
        <menu id="view-menu" type="popup">
            <menuitem label="Appearance…" data-action="alterView"></menuitem>
        </menu>
    </li>
</menu>

<form action="#" class="oe-dialog oe-save-form hidden">
    <h2>Save structure</h2>
    <p>
        <label for="oe-file-type">Select file type to save</label><br/>
        <select id="oe-file-type">
            <optgroup label="HyperChem" data-type="hin">
                <option value="hin-basic" data-graph="basic" selected>HIN file (basic graph only)</option>
                <option value="hin-extra" data-graph="extra">HIN file (basic and graphs)</option>
                <option value="hin-empty" data-graph="empty">HIN file (empty graph)</option>
            </optgroup>
            <optgroup label="Tripos MOL2" data-type="ml2">
                <option value="ml2-basic" data-graph="basic" disabled>ML2 file (basic graph only)</option>
                <option value="ml2-extra" data-graph="extra" disabled>ML2 file (basic and graphs)</option>
                <option value="ml2-empty" data-graph="empty" disabled>ML2 file (empty graph)</option>
            </optgroup>
            <optgroup label="Cartesian" data-type="xyz">
                <option value="xyz" disabled>XYZ file</option>
            </optgroup>
        </select>
    </p>
    <div>
        <p class="type-description" data-type="hin-basic">Save in HyperChem file format (*.hin) skipping extra-bonds (they will be lost).</p>
        <p class="type-description hidden" data-type="hin-extra">Save in HyperChem file format (*.hin) and include extra-bonds. Such files could be reopened later in OpenEvolver, but they are not compatible with HyperChem as it doesn't recognize bonds of x-type (extra-bonds).</p>
        <p class="type-description hidden" data-type="hin-empty">Save in HyperChem file format (*.hin) with empty graph (separate atoms).</p>
    </div>
    <p class="oe-dialog-btns">
        <a href="#" class="oe-apply" download="">Save</a>
        <input type="button" class="oe-discard" value="Cancel"/>
    </p>
</form>

<form action="#" class="oe-dialog oe-graph-form hidden" autocomplete="off">
    <h2>Graph</h2>
    <div class="oe-cutoffs"></div>
    <p>
        <input type="range" class="oe-cutoff-slider" min="0" max="100" step="1" value="0"/>
        <label class="oe-cutoff-min">
            <input type="text" id="oe-cutoff-min" pattern="\d*\.?\d+([eE][+-]?\d+)?" value="0"/>
            Minimum, Å
        </label>
        <label class="oe-cutoff-max">
            <input type="text" id="oe-cutoff-max" pattern="\d*\.?\d+([eE][+-]?\d+)?" value="5"/>
            Maximum, Å
        </label>
        <label class="oe-cutoff-exact">
            <input type="text" id="oe-cutoff-exact" pattern="\d*\.?\d+([eE][+-]?\d+)?" value="0.0000"/>
            Cutoff, Å
        </label>
    </p>
    <p class="oe-dialog-btns">
        <input type="button" class="oe-apply" value="OK"/>
    </p>
</form>

<form action="#" class="oe-dialog oe-potential-form hidden" autocomplete="off">
    <h2>Potential parameters</h2>
    <ul class="oe-potentials"></ul>
    <p class="potential-filing">
        <label>Load parameters…<input type="file" class="load-potentials" autocomplete="off"/></label> |
        <a href="#" class="save-potentials" download="potentials.txt">Save parameters…</a>
    </p>
    <p class="oe-dialog-btns">
        <input type="button" class="oe-apply" value="OK"/>
        <input type="button" class="oe-discard" value="Cancel"/>
    </p>
</form>

<form action="#" class="oe-dialog oe-evolve-form hidden" autocomplete="off">
    <h2>Evolution configuration</h2>
    <p><label>Step count<br/><input type="number" value="100" id="oe-step-count"/></label></p>
    <p><label>Temperature, K<br/><input type="text" value="298" pattern="\d*\.?\d+([eE][+-]?\d+)?" id="oe-temperature"/></label></p>
    <p><label><input type="checkbox" id="oe-stoch" checked/> Stochastization</label></p>
    <p class="oe-dialog-btns">
        <input type="button" class="oe-apply" value="OK"/>
        <input type="button" class="oe-discard" value="Cancel"/>
    </p>
</form>

<form action="#" class="oe-dialog oe-appearance-form hidden" autocomplete="off">
    <h2>Appearance</h2>
    <p>
        <label><input type="radio" name="appearance" data-appearance="graph" checked/> Graph</label><br/>
        <label><input type="radio" name="appearance" data-appearance="spheres"/> Spheres</label>
    </p>
    <p class="oe-dialog-btns">
        <input type="button" class="oe-apply" value="OK"/>
        <input type="button" class="oe-discard" value="Cancel"/>
    </p>
</form>

<div class="oe-dialog oe-info-dialog hidden">
    <div class="oe-info-dialog-text"></div>
    <p class="oe-dialog-btns">
        <input type="button" class="oe-discard" value="Close"/>
    </p>
</div>

<p class="oe-acknowledgements">Powered by <a href="http://threejs.org/" rel="nofollow">three.js</a></p>
<div id="oe-view"></div>

<div class="oe-report hidden">
    <p><progress id="oe-report-progress" value="0" max="100"></progress></p>
    <dl id="oe-report-data"></dl>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r71/three.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
<script src="src/js/fallback.js"></script>
<script src="src/js/main.js"></script></body>
</html>